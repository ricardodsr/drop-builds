import{j as e,C as t,b as a,c as l,e as r,m as x,Z as h,p as j,q as u,A as g,D as m}from"./index-QpcEAcYr.js";import{u as N}from"./useQuery-DWEKjWdE.js";import{P as d}from"./progress-DhvDzLy4.js";import{L as p}from"./LoadingSpinner-De5HNu0Z.js";import{T as f}from"./trending-up-46vWibqc.js";import{D as v}from"./database-B-rHWynS.js";const P=()=>{const{data:s,isLoading:o}=N({queryKey:["system-metrics"],queryFn:async()=>{const[{data:n},{data:i},{data:c}]=await Promise.all([m.from("profiles").select("created_at").gte("created_at",new Date(Date.now()-2592e6).toISOString()),m.from("prompt_history").select("created_at").gte("created_at",new Date(Date.now()-6048e5).toISOString()),m.from("audit_log").select("*").gte("created_at",new Date(Date.now()-864e5).toISOString())]);return{userGrowth:(n==null?void 0:n.length)||0,weeklyPrompts:(i==null?void 0:i.length)||0,dailyActivity:(c==null?void 0:c.length)||0,systemUptime:99.8,responseTime:245,errorRate:.12}}});return o?e.jsx("div",{className:"flex items-center justify-center py-12",children:e.jsx(p,{})}):e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[e.jsxs(t,{children:[e.jsx(a,{className:"pb-2",children:e.jsxs(l,{className:"flex items-center gap-2 text-lg",children:[e.jsx(f,{className:"w-5 h-5 text-green-600"}),"System Uptime"]})}),e.jsx(r,{children:e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("span",{className:"text-2xl font-bold",children:[s==null?void 0:s.systemUptime,"%"]}),e.jsx(x,{variant:"outline",className:"text-green-600",children:"Excellent"})]}),e.jsx(d,{value:s==null?void 0:s.systemUptime,className:"h-2"}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"Last 30 days"})]})})]}),e.jsxs(t,{children:[e.jsx(a,{className:"pb-2",children:e.jsxs(l,{className:"flex items-center gap-2 text-lg",children:[e.jsx(h,{className:"w-5 h-5 text-blue-600"}),"Response Time"]})}),e.jsx(r,{children:e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("span",{className:"text-2xl font-bold",children:[s==null?void 0:s.responseTime,"ms"]}),e.jsx(x,{variant:"outline",className:"text-blue-600",children:"Good"})]}),e.jsx(d,{value:75,className:"h-2"}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"Average response time"})]})})]}),e.jsxs(t,{children:[e.jsx(a,{className:"pb-2",children:e.jsxs(l,{className:"flex items-center gap-2 text-lg",children:[e.jsx(j,{className:"w-5 h-5 text-red-600"}),"Error Rate"]})}),e.jsx(r,{children:e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("span",{className:"text-2xl font-bold",children:[s==null?void 0:s.errorRate,"%"]}),e.jsx(x,{variant:"outline",className:"text-green-600",children:"Low"})]}),e.jsx(d,{value:s==null?void 0:s.errorRate,className:"h-2"}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"Last 24 hours"})]})})]})]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[e.jsxs(t,{children:[e.jsx(a,{children:e.jsxs(l,{className:"flex items-center gap-2",children:[e.jsx(u,{className:"w-5 h-5"}),"User Activity"]})}),e.jsx(r,{children:e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center justify-between p-3 bg-blue-50 rounded-lg",children:[e.jsxs("div",{children:[e.jsx("p",{className:"font-medium",children:"New Users (30d)"}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"User registrations"})]}),e.jsxs("div",{className:"text-right",children:[e.jsx("p",{className:"text-2xl font-bold text-blue-600",children:s==null?void 0:s.userGrowth}),e.jsx("p",{className:"text-xs text-green-600",children:"+12% vs last month"})]})]}),e.jsxs("div",{className:"flex items-center justify-between p-3 bg-green-50 rounded-lg",children:[e.jsxs("div",{children:[e.jsx("p",{className:"font-medium",children:"Weekly Prompts"}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"Prompts processed"})]}),e.jsxs("div",{className:"text-right",children:[e.jsx("p",{className:"text-2xl font-bold text-green-600",children:s==null?void 0:s.weeklyPrompts}),e.jsx("p",{className:"text-xs text-green-600",children:"+8% vs last week"})]})]})]})})]}),e.jsxs(t,{children:[e.jsx(a,{children:e.jsxs(l,{className:"flex items-center gap-2",children:[e.jsx(v,{className:"w-5 h-5"}),"System Resources"]})}),e.jsx(r,{children:e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsx("span",{className:"text-sm font-medium",children:"Database Usage"}),e.jsx("span",{className:"text-sm text-muted-foreground",children:"68%"})]}),e.jsx(d,{value:68,className:"h-2"})]}),e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsx("span",{className:"text-sm font-medium",children:"Storage"}),e.jsx("span",{className:"text-sm text-muted-foreground",children:"42%"})]}),e.jsx(d,{value:42,className:"h-2"})]}),e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsx("span",{className:"text-sm font-medium",children:"API Quota"}),e.jsx("span",{className:"text-sm text-muted-foreground",children:"28%"})]}),e.jsx(d,{value:28,className:"h-2"})]})]})})]})]}),e.jsxs(t,{children:[e.jsx(a,{children:e.jsxs(l,{className:"flex items-center gap-2",children:[e.jsx(g,{className:"w-5 h-5"}),"System Health Overview"]})}),e.jsx(r,{children:e.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[e.jsxs("div",{className:"text-center p-4 bg-green-50 rounded-lg",children:[e.jsx("div",{className:"w-3 h-3 bg-green-500 rounded-full mx-auto mb-2"}),e.jsx("div",{className:"font-medium text-sm",children:"Authentication"}),e.jsx("div",{className:"text-xs text-muted-foreground",children:"Operational"})]}),e.jsxs("div",{className:"text-center p-4 bg-green-50 rounded-lg",children:[e.jsx("div",{className:"w-3 h-3 bg-green-500 rounded-full mx-auto mb-2"}),e.jsx("div",{className:"font-medium text-sm",children:"API Gateway"}),e.jsx("div",{className:"text-xs text-muted-foreground",children:"Healthy"})]}),e.jsxs("div",{className:"text-center p-4 bg-yellow-50 rounded-lg",children:[e.jsx("div",{className:"w-3 h-3 bg-yellow-500 rounded-full mx-auto mb-2"}),e.jsx("div",{className:"font-medium text-sm",children:"Background Jobs"}),e.jsx("div",{className:"text-xs text-muted-foreground",children:"Warning"})]}),e.jsxs("div",{className:"text-center p-4 bg-green-50 rounded-lg",children:[e.jsx("div",{className:"w-3 h-3 bg-green-500 rounded-full mx-auto mb-2"}),e.jsx("div",{className:"font-medium text-sm",children:"Database"}),e.jsx("div",{className:"text-xs text-muted-foreground",children:"Optimal"})]})]})})]})]})};export{P as SystemMetrics};
